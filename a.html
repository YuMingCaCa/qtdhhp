rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Chỉ áp dụng cho các file nằm trong thư mục "giao_trinh"
    match /giao_trinh/{allPaths=**} {

      // Bất kỳ ai đã đăng nhập đều có thể tải file về.
      allow read: if request.auth != null;

      // QUY TẮC TẠM THỜI: Cho phép bất kỳ ai đã đăng nhập đều có thể tải file lên.
      // Chúng ta sẽ sửa lại cho an toàn hơn sau khi kiểm tra xong.
      allow write: if request.auth != null;
    }
  }
}